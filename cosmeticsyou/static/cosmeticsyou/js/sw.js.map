{"version":3,"names":[],"mappings":"","sources":["sw.js"],"sourcesContent":["'use strict';\n\n// 1. Open cache\n// 2. Cache files\n// 3. Confirm whether all the requored assets are cached or not\n\nvar CACHE_NAME = '24cyber-cache-v1';\nvar staticCssPath = '/';\nvar staticJsPath = '/';\n\nvar urlsToCache = [staticCssPath + '/main.css', staticJsPath + '/main.js', staticJsPath + '/modernizr.js'];\n\nself.addEventListener('install', function (e) {\n\te.waitUntil(caches.open(CACHE_NAME).then(function (cache) {\n\t\treturn cache.addAll(urlsToCache);\n\t}).catch(function (err) {\n\t\tconsole.log(err, 1);\n\t}));\n});\n\nself.addEventListener('fetch', function (e) {\n\te.respondWith(caches.match(e.request).then(function (resp) {\n\t\tif (resp) return resp;\n\n\t\tvar fetchRequest = e.request.clone();\n\n\t\treturn fetch(fetchRequest).then(function (resp) {\n\t\t\tif (!resp || resp.status !== 200 || resp.type !== 'basic') {\n\t\t\t\treturn resp;\n\t\t\t}\n\t\t\tvar responseToCache = resp.clone();\n\n\t\t\tcaches.open(CACHE_NAME).then(function (cache) {\n\t\t\t\tcache.put(e.request, responseToCache);\n\t\t\t});\n\n\t\t\treturn resp;\n\t\t}).catch(function (err) {\n\t\t\tconsole.log(err, 3);\n\t\t});\n\t}).catch(function (err) {\n\t\tconsole.log(err, 2);\n\t}));\n});"],"file":"sw.js"}